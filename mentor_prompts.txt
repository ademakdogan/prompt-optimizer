
================================================================================
MENTOR PROMPT - IMPROVED
Timestamp: 2026-01-14 01:09:29
================================================================================

[SYSTEM]
Evaluate the provided source_text. It contains AI model predictions based on specific prompts. Your objective is to analyze this context and generate new, optimized prompts, specifically aiming to minimize errors.

Your task is to improve the current prompt based on:
1. The agent's incorrect predictions shown in the history
2. Patterns in what the agent is missing or misidentifying
3. Accuracy trends across iterations

Generate an improved prompt that addresses these issues.

IMPORTANT: You must also update the field descriptions based on the errors.
If a field is frequently missed or has wrong values, improve its description
to make it clearer what the field looks for.

[USER]
Analyze the agent's predictions and improve the prompt:

CURRENT PROMPT:
Extract the following information from the data:

- firstname: The first name of the person.
- lastname: The last name of the person.
- prefix: Honorifics or titles like Mr., Mrs., Dr.
- age: Age of the person.
- eyecolor: Eye color description.
- jobtitle: Job title or professional role.
- email: Email address found in the text.
- phonenumber: Phone number contact.
- street: Street address or physical location.
- county: County or region name.
- accountnumber: Bank or service account number.
- amount: Monetary amount including currency symbol if present.
- currency: Currency code like USD, EUR.
- maskednumber: Partial or masked card/account numbers (e.g., last 4 digits).
- pin: Personal Identification Number or security code.

Return the extracted information as a JSON object. Only include fields that are found in the text. Omit fields that are not present.

ITERATION HISTORY (showing agent predictions vs ground truth):

--- History 1 ---
<prompt>
Extract the following information from the data:

- firstname: The first name of the person.
- lastname: The last name of the person.
- prefix: Honorifics or titles like Mr., Mrs., Dr.
- age: Age of the person.
- eyecolor: Eye color description.
- jobtitle: Job title or professional role.
- email: Email address found in the text.
- phonenumber: Phone number contact.
- street: Street address or physical location.
- county: County or region name.
- accountnumber: Bank or service account number.
- amount: Monetary amount including currency symbol if present.
- currency: Currency code like USD, EUR.
- maskednumber: Partial or masked card/account numbers (e.g., last 4 digits).
- pin: Personal Identification Number or security code.

Return the extracted information as a JSON object. Only include fields that are found in the text. Omit fields that are not present.
</prompt>
prompt_accuracy: 41.2%

Failed predictions:

[
  "source_text": "The wellness portal is accessible at [-71.6702,-107.6572]. With numerous wellness tracks suitable for everyone in the family, enrol now! Contact us at Mozilla/5.0 (Macintosh; PPC Mac OS X 10.7.5; rv:1...",
  "ground_truth": {"nearbygpscoordinate": "[-71.6702,-107.6572]", "useragent": "Mozilla/5.0 (Macintosh; PPC Mac OS X 10.7.5; rv:12.5) Gecko/20100101 Firefox/12.5.9"},
  "predict": {}
]

[
  "source_text": "Carleton, the new interactive educational tools are set to arrive at [-38.9302,113.5422]. Your password for accessing online content: yZqd7gHyZq91.",
  "ground_truth": {"firstname": "Carleton", "nearbygpscoordinate": "[-38.9302,113.5422]", "password": "yZqd7gHyZq91"},
  "predict": {}
]

[
  "source_text": "1. Customer query received at 10:18 PM from Human Group Coordinator of Cleveland based firm. The customer's email is Emilie_Beatty53@hotmail.com. Use our account number 63652332 for all financial exch...",
  "ground_truth": {"time": "10:18 PM", "jobtitle": "Human Group Coordinator", "county": "Cleveland", "email": "Emilie_Beatty53@hotmail.com", "accountnumber": "63652332", "pin": "8824", "eyecolor": "Eye color: Brown"},
  "predict": {"email": "Emilie_Beatty53@hotmail.com", "accountnumber": "63652332", "pin": "8824", "eyecolor": "Brown"}
]

[
  "source_text": "Dear Mr. Vandervort, congratulations on turning 68! Your unique ID at our wellness center is 0Zr2bcG1X9Ub. Visit us at 609 Gorczany Pass for more personalized programs.",
  "ground_truth": {"prefix": "Mr.", "lastname": "Vandervort", "age": "68", "username": "0Zr2bcG1X9Ub", "street": "609 Gorczany Pass"},
  "predict": {"prefix": "Mr.", "lastname": "Vandervort", "age": 68, "street": "609 Gorczany Pass", "accountnumber": "0Zr2bcG1X9Ub"}
]

[
  "source_text": "Please reach out to Janessa at janessa.smith@company.org or call 555-0123 for the latest updates on your order #ORD-7842. Payment of $1,250.00 USD was processed using card ending in 4532.",
  "ground_truth": {"firstname": "Janessa", "email": "janessa.smith@company.org", "phonenumber": "555-0123", "amount": "$1,250.00", "currency": "USD", "maskednumber": "4532"},
  "predict": {"firstname": "Janessa", "lastname": "Smith", "email": "janessa.smith@company.org", "phonenumber": "555-0123", "maskednumber": "4532", "amount": "$1,250.00 USD", "currency": "USD"}
]


CURRENT FIELD DESCRIPTIONS (update these based on errors):
- firstname: The first name of the person.
- lastname: The last name of the person.
- prefix: Honorifics or titles like Mr., Mrs., Dr.
- age: Age of the person.
- eyecolor: Eye color description.
- jobtitle: Job title or professional role.
- email: Email address found in the text.
- phonenumber: Phone number contact.
- street: Street address or physical location.
- county: County or region name.
- accountnumber: Bank or service account number.
- amount: Monetary amount including currency symbol if present.
- currency: Currency code like USD, EUR.
- maskednumber: Partial or masked card/account numbers (e.g., last 4 digits).
- pin: Personal Identification Number or security code.


The agent's predictions are shown above. Improve the prompt to help the agent
produce better extractions. Be specific about what changes you're making and why.

================================================================================

================================================================================
MENTOR PROMPT - IMPROVED
Timestamp: 2026-01-14 01:10:18
================================================================================

[SYSTEM]
Evaluate the provided source_text. It contains AI model predictions based on specific prompts. Your objective is to analyze this context and generate new, optimized prompts, specifically aiming to minimize errors.

Your task is to improve the current prompt based on:
1. The agent's incorrect predictions shown in the history
2. Patterns in what the agent is missing or misidentifying
3. Accuracy trends across iterations

Generate an improved prompt that addresses these issues.

IMPORTANT: You must also update the field descriptions based on the errors.
If a field is frequently missed or has wrong values, improve its description
to make it clearer what the field looks for.

[USER]
Analyze the agent's predictions and improve the prompt:

CURRENT PROMPT:
Improve data extraction prompt to minimize errors and align with common patterns in ground truth. The extractor should:
- Output a JSON object containing extracted fields.
- Include a field only if it appears in the source text. If a field appears with multiple possible formats, extract a canonical version.
- Be strict about field formats:
  - firstname / lastname: simple alphabetic strings (allow hyphens/apostrophes)
  - prefix: one of Mr., Mrs., Miss, Ms., Dr., Prof., etc. (include exact punctuation)
  - age: integer (no words)
  - eyecolor: color descriptor (e.g., Brown, Blue) – case-insensitive, standardize to Capitalized (Brown)
  - jobtitle: free text, keep as-is
  - email: valid email format
  - phonenumber: standard international or local formats; preserve digits, allow spaces/hyphens/parentheses
  - street: street address text
  - county: proper county/region name
  - accountnumber: alphanumeric as-is
  - amount: numeric value with currency if present; separate currency field when possible
  - currency: 3-letter currency code if detectable (USD, EUR, etc.)
  - maskednumber: keep last digits shown (e.g., 4532) with mask context if present
  - pin: 4-6 digit numeric string
  - nearbygpscoordinate: coordinates in the form [lat,lon] if found
  - useragent: full user agent string if present
  - time: time string (e.g., 10:18 PM) if present
  - username: alphanumeric user handle if present
  - password: password string if present
- Special handling:
  - If currency is detectable from amount (e.g., $1,250.00 USD), split into amount: "$1,250.00" and currency: USD (or symbol + code as appropriate). If only currency symbol is present (e.g., $), infer USD if context indicates USD; otherwise leave currency blank.
  - Do not invent fields beyond those listed; if a field is not present, omit it.
- Return a single JSON object with the exact field names as listed above. Do not include extraneous text.
- Avoid false positives by requiring corroborating patterns (e.g., email must have '@', phone number digits). If ambiguous, omit the field.

Given the following source_text, extract the fields accordingly and return the JSON object:

SOURCE_TEXT:

"{source_text}"


ITERATION HISTORY (showing agent predictions vs ground truth):

--- History 1 ---
<prompt>
Extract the following information from the data:

- firstname: The first name of the person.
- lastname: The last name of the person.
- prefix: Honorifics or titles like Mr., Mrs., Dr.
- age: Age of the person.
- eyecolor: Eye color description.
- jobtitle: Job title or professional role.
- email: Email address found in the text.
- phonenumber: Phone number contact.
- street: Street address or physical location.
- county: County or region name.
- accountnumber: Bank or service account number.
- amount: Monetary amount including currency symbol if present.
- currency: Currency code like USD, EUR.
- maskednumber: Partial or masked card/account numbers (e.g., last 4 digits).
- pin: Personal Identification Number or security code.

Return the extracted information as a JSON object. Only include fields that are found in the text. Omit fields that are not present.
</prompt>
prompt_accuracy: 41.2%

Failed predictions:

[
  "source_text": "The wellness portal is accessible at [-71.6702,-107.6572]. With numerous wellness tracks suitable for everyone in the family, enrol now! Contact us at Mozilla/5.0 (Macintosh; PPC Mac OS X 10.7.5; rv:1...",
  "ground_truth": {"nearbygpscoordinate": "[-71.6702,-107.6572]", "useragent": "Mozilla/5.0 (Macintosh; PPC Mac OS X 10.7.5; rv:12.5) Gecko/20100101 Firefox/12.5.9"},
  "predict": {}
]

[
  "source_text": "Carleton, the new interactive educational tools are set to arrive at [-38.9302,113.5422]. Your password for accessing online content: yZqd7gHyZq91.",
  "ground_truth": {"firstname": "Carleton", "nearbygpscoordinate": "[-38.9302,113.5422]", "password": "yZqd7gHyZq91"},
  "predict": {}
]

[
  "source_text": "1. Customer query received at 10:18 PM from Human Group Coordinator of Cleveland based firm. The customer's email is Emilie_Beatty53@hotmail.com. Use our account number 63652332 for all financial exch...",
  "ground_truth": {"time": "10:18 PM", "jobtitle": "Human Group Coordinator", "county": "Cleveland", "email": "Emilie_Beatty53@hotmail.com", "accountnumber": "63652332", "pin": "8824", "eyecolor": "Eye color: Brown"},
  "predict": {"email": "Emilie_Beatty53@hotmail.com", "accountnumber": "63652332", "pin": "8824", "eyecolor": "Brown"}
]

[
  "source_text": "Dear Mr. Vandervort, congratulations on turning 68! Your unique ID at our wellness center is 0Zr2bcG1X9Ub. Visit us at 609 Gorczany Pass for more personalized programs.",
  "ground_truth": {"prefix": "Mr.", "lastname": "Vandervort", "age": "68", "username": "0Zr2bcG1X9Ub", "street": "609 Gorczany Pass"},
  "predict": {"prefix": "Mr.", "lastname": "Vandervort", "age": 68, "street": "609 Gorczany Pass", "accountnumber": "0Zr2bcG1X9Ub"}
]

[
  "source_text": "Please reach out to Janessa at janessa.smith@company.org or call 555-0123 for the latest updates on your order #ORD-7842. Payment of $1,250.00 USD was processed using card ending in 4532.",
  "ground_truth": {"firstname": "Janessa", "email": "janessa.smith@company.org", "phonenumber": "555-0123", "amount": "$1,250.00", "currency": "USD", "maskednumber": "4532"},
  "predict": {"firstname": "Janessa", "lastname": "Smith", "email": "janessa.smith@company.org", "phonenumber": "555-0123", "maskednumber": "4532", "amount": "$1,250.00 USD", "currency": "USD"}
]

--- History 2 ---
<prompt>
Improve data extraction prompt to minimize errors and align with common patterns in ground truth. The extractor should:
- Output a JSON object containing extracted fields.
- Include a field only if it appears in the source text. If a field appears with multiple possible formats, extract a canonical version.
- Be strict about field formats:
  - firstname / lastname: simple alphabetic strings (allow hyphens/apostrophes)
  - prefix: one of Mr., Mrs., Miss, Ms., Dr., Prof., etc. (include exact punctuation)
  - age: integer (no words)
  - eyecolor: color descriptor (e.g., Brown, Blue) – case-insensitive, standardize to Capitalized (Brown)
  - jobtitle: free text, keep as-is
  - email: valid email format
  - phonenumber: standard international or local formats; preserve digits, allow spaces/hyphens/parentheses
  - street: street address text
  - county: proper county/region name
  - accountnumber: alphanumeric as-is
  - amount: numeric value with currency if present; separate currency field when possible
  - currency: 3-letter currency code if detectable (USD, EUR, etc.)
  - maskednumber: keep last digits shown (e.g., 4532) with mask context if present
  - pin: 4-6 digit numeric string
  - nearbygpscoordinate: coordinates in the form [lat,lon] if found
  - useragent: full user agent string if present
  - time: time string (e.g., 10:18 PM) if present
  - username: alphanumeric user handle if present
  - password: password string if present
- Special handling:
  - If currency is detectable from amount (e.g., $1,250.00 USD), split into amount: "$1,250.00" and currency: USD (or symbol + code as appropriate). If only currency symbol is present (e.g., $), infer USD if context indicates USD; otherwise leave currency blank.
  - Do not invent fields beyond those listed; if a field is not present, omit it.
- Return a single JSON object with the exact field names as listed above. Do not include extraneous text.
- Avoid false positives by requiring corroborating patterns (e.g., email must have '@', phone number digits). If ambiguous, omit the field.

Given the following source_text, extract the fields accordingly and return the JSON object:

SOURCE_TEXT:

"{source_text}"

</prompt>
prompt_accuracy: 57.4%

Failed predictions:

[
  "source_text": "The wellness portal is accessible at [-71.6702,-107.6572]. With numerous wellness tracks suitable for everyone in the family, enrol now! Contact us at Mozilla/5.0 (Macintosh; PPC Mac OS X 10.7.5; rv:1...",
  "ground_truth": {"nearbygpscoordinate": "[-71.6702,-107.6572]", "useragent": "Mozilla/5.0 (Macintosh; PPC Mac OS X 10.7.5; rv:12.5) Gecko/20100101 Firefox/12.5.9"},
  "predict": {"nearbygpscoordinate": [-71.6702, -107.6572], "useragent": "Mozilla/5.0 (Macintosh; PPC Mac OS X 10.7.5; rv:12.5) Gecko/20100101 Firefox/12.5.9"}
]

[
  "source_text": "Carleton, the new interactive educational tools are set to arrive at [-38.9302,113.5422]. Your password for accessing online content: yZqd7gHyZq91.",
  "ground_truth": {"firstname": "Carleton", "nearbygpscoordinate": "[-38.9302,113.5422]", "password": "yZqd7gHyZq91"},
  "predict": {"nearbygpscoordinate": [-38.9302, 113.5422]}
]

[
  "source_text": "1. Customer query received at 10:18 PM from Human Group Coordinator of Cleveland based firm. The customer's email is Emilie_Beatty53@hotmail.com. Use our account number 63652332 for all financial exch...",
  "ground_truth": {"time": "10:18 PM", "jobtitle": "Human Group Coordinator", "county": "Cleveland", "email": "Emilie_Beatty53@hotmail.com", "accountnumber": "63652332", "pin": "8824", "eyecolor": "Eye color: Brown"},
  "predict": {"email": "Emilie_Beatty53@hotmail.com", "accountnumber": "63652332", "pin": "8824", "eyecolor": "Brown", "time": "10:18 PM"}
]

[
  "source_text": "Dear Mr. Vandervort, congratulations on turning 68! Your unique ID at our wellness center is 0Zr2bcG1X9Ub. Visit us at 609 Gorczany Pass for more personalized programs.",
  "ground_truth": {"prefix": "Mr.", "lastname": "Vandervort", "age": "68", "username": "0Zr2bcG1X9Ub", "street": "609 Gorczany Pass"},
  "predict": {"prefix": "Mr.", "lastname": "Vandervort", "age": 68, "street": "609 Gorczany Pass"}
]


CURRENT FIELD DESCRIPTIONS (update these based on errors):
- firstname: The first name of the person.
- lastname: The last name of the person.
- prefix: Honorifics or titles like Mr., Mrs., Dr.
- age: Age of the person.
- eyecolor: Eye color description.
- jobtitle: Job title or professional role.
- email: Email address found in the text.
- phonenumber: Phone number contact.
- street: Street address or physical location.
- county: County or region name.
- accountnumber: Bank or service account number.
- amount: Monetary amount including currency symbol if present.
- currency: Currency code like USD, EUR.
- maskednumber: Partial or masked card/account numbers (e.g., last 4 digits).
- pin: Personal Identification Number or security code.


The agent's predictions are shown above. Improve the prompt to help the agent
produce better extractions. Be specific about what changes you're making and why.

================================================================================
